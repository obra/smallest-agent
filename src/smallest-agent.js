import e from"@anthropic-ai/sdk";import{execSync as t}from"child_process";let i=new e,n=[],c=(e,t)=>n.push({role:e,content:t}),r;for await(r of process.stdin)for(c("user",r+"");;){let{content:e}=await i.messages.create({model:"claude-opus-4-6",max_tokens:4e3,messages:n,tools:[{name:"sh",input_schema:{type:"object",properties:{c:{}}}}]}),u=e.at(-1);if(c("assistant",e),!u.id){process.stdout.write(u.text+"\n> ");break}c("user",[{type:"tool_result",tool_use_id:u.id,content:t(u.input.c+";:")+""}])}
